{"version":3,"sources":["stVideo.js"],"names":["root","factory","define","amd","exports","module","stVideo","global","this","window","lastTime","vendors","x","length","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","el","settings","useCanvas","test","navigator","userAgent","document","querySelector","defaults","force","getSettings","mp4","webm","ogg","width","height","classNames","init","error","isPlaying","isPaused","isEnded","player","poster","play","playPause","controls","timeline","progress","duration","initPlayer","isError","checkSettings","prototype","attr","options","key","getAttribute","replace","JSON","parse","hasOwnProperty","ext","wrapper","video","source","type","canvas","context","classList","add","createElement","setAttribute","supportedVideoFormat","badVideoFormat","call","appendChild","getContext","fillStyle","fillRect","drawImage","canvasContext","load","playerControls","addEventListeners","extension","canPlayType","mozHasAudio","Boolean","webkitAudioDecodedByteCount","audioTracks","style","backgroundImage","elPlay","elPlayPause","elProgress","elDuration","tempEvent","self","allowedEvents","eventsUserCollection","eventsVideoCollection","eventsControlsCollection","addEventListener","canvasDrawFrame","progressUpdate","push","changeState","ev","custom","pause","canvasControl","action","currentTime","now","animationFrame","canvasFrameUpdate","bind","time","elapsed","current","toFixed","innerText","formatTime","seconds","min","sec","floor","console","msg","on","name","indexOf","value","ec","remove","destroy"],"mappings":"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","file":"stVideo.min.js"}